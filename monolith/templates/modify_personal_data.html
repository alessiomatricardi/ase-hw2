{% extends "layout.html" %}
{% from "macros.html" import render_form_field %}

{% block title %}Modify personal data{% endblock %}

{% block content %}

<main class="form-register text-center">
  <form action="" method="POST">

    {{ form.hidden_tag() }}

    <img class="mb-4" src="TODO LOGO" alt="" width="72" height="57">
    <h1 class="h3 mb-3 fw-normal">Modify your personal data</h1>

    {# print errors, if occours #}
    {% for field in form.display %}
      {% if form[field].errors %}
        {% for error in form[field].errors %}
          <div class="alert alert-danger" role="alert">
            {{ error }}
          </div>
        {% endfor %}
      {% endif %}
    {% endfor %}

    {% for field in form.display %}
      {% if field != 'date_of_birth' %}
        {{ render_form_field(form[field], class="form-control", placeholder="nothing") }}
      {% elif date_of_birth %}
        <div class="form-floating">
            <input class="form-control" id="date_of_birth" name="date_of_birth" placeholder="nothing" type="date" value={{date_of_birth}}>
            <label for="floatingInput"><label for="date_of_birth">Date of birth</label></label>
        </div>
      {% else %}
        {{ render_form_field(form[field], class="form-control", placeholder="nothing") }}
      {% endif %}
    {% endfor %}

    <button class="w-100 btn btn-lg btn-warning" type="submit">Modify data</button>

    <p class="mt-5 mb-3 text-muted">Â© 2021, ASE - Squad 4</p>
  </form>
</main>

{% endblock %}